{% extends "base.html" %} {% load static %} {% block content %}

<link rel="stylesheet" href="{% static 'css/login.css' %}? after" type="text/css" />
<div class="wrapper">
<header class="masthead" id="middlebackground">
  <div class="container">
    <img class="watchingTV" id="watchingTV" src='{% static "\background.jpg" %}' />
  </div>
</header>
<section class="login-form">
  <h1>로그인</h1>
  <form method="post" class="post-form" action="{% url 'member:login' %}">
    {% csrf_token %} {% include "form_errors.html" %}
    <div class="int-area">
      <input type="text" name="username" id="username" autocomplete="off" required value="{{ form.username.value | default_if_none:'' }}" />
      <label for="id">아이디</label>
    </div>
    <div class="int-area">
      <input type="password" name="password" id="password" autocomplete="off" required value="{{ form.password.value | default_if_none:'' }}" />
      <label for="pw">비밀번호</label>
    </div>
    <div class="btn-area">
      <button id="btn" type="submit">로그인</button>
    </div>
  </form>

  <div class="caption">
    <a href="">아이디와 비밀번호를 잊어버리셨나요?</a>
  </div>
</section>
</div>

<script src="https://releases.jquery.com/git/jquery-3.x-git.js">
  let id = $('#id');
  let pw = $('#pw');
  let btn = $('#btn');

  $(btn).on('click', () => {
    if ($(id).val() == "") {
      $(id).next('label').addClass('warning');
      setTimeout(() => {
        $('label').removeClass('warning');
      }), 1500
    }
    else if ($(pw).val() == "") {
      $(pw).next('label').addClass('warning');
      setTimeout(() => {
        $('label').removeClass('warning');
      }), 1500
    }
  });
</script>
{% endblock %}
